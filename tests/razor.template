Hello @FirstName @LastName

I sent an email to Someone@company.com

@$a := 1
@$b := 2
@$c := 3
@$s := dict "a" 1 "b" 2
@s2 := dict "a" 1 "b" 2
@$x := 0

# With line comment to avoid error in language such as YAML, HCL
#@$x := 0
#  @$x := 0
//@$x := 0
//  @$x := 0

@@        => @ => {{ $ }}
@@$       => @$ => {{ $ }}
@@.       => @. => {{ . }}
@@env     => @env => {{ $.env }}
@@.env    => @.env => {{ .env }}
@@$a      => @$a => {{ $a }}
@@($)     => @($) => {{ $ }}
@@(a)     => @(a) => {{ $.a }}
@@(.)     => @(.) => {{ . }}
@@(env)   => @(env) => {{ $.env }}
@@(.env)  => @(.env) => {{ .env }}
@@($a)    => @($a) => {{ $a }}
@@s2.a    => @($.s2.a) => {{ $.s2.a }}

@@($.env | upper) => @($.env | upper) => {{ $.env | upper }}

------------------------------------------------------------------------------------------
@@$foo := "bar"
@$foo := "bar"
{{- $foo := "bar" }}
------------------------------------------------------------------------------------------
@@foo := "bar"
@foo := "bar"
{{- set $ "foo" ("bar") }}
------------------------------------------------------------------------------------------
@@exec("ls -l")
@exec("ls -l")
{{ exec "ls -l" }}
------------------------------------------------------------------------------------------
@@exec("ls -l" "../*.go")
@exec("ls -l" "../*.go")
{{ exec "ls -l" "../*.go" }}
------------------------------------------------------------------------------------------

@# line comment with #
@// line comment with //
@/*
block comment
*/
------------------------------------------------------------------------------------------

@range(exec "ls -l" | splitLines)
    @range(exec "ls -l" | splitLines)
    @endrange
@endrange

------------------------------------------------------------------------------------------
@@(1 + 2)
@(1 + 2)
{{ add 1 2 }}
------------------------------------------------------------------------------------------
@@(1 - 2)
@(1 - 2)
{{ sub 1 2 }}
------------------------------------------------------------------------------------------
@@(1 * 2)
@(1 * 2)
{{ mul 1 2 }}
------------------------------------------------------------------------------------------
@@(1 * 2 + 3 * 4 +5+6)
@(1 * 2 + 3 * 4 +5+6)
{{ add (add (add (mul 1 2) (mul 3 4)) 5) 6 }}
------------------------------------------------------------------------------------------

------------------------------------------------------------------------------------------
@@if(!$a)@@endif
@if(!$a)@endif
{{- if not $a }}{{- end }}
------------------------------------------------------------------------------------------
@@if($a == 1)@@endif
@if($a == 1)@endif
{{- if eq $a 1 }}{{- end }}
------------------------------------------------------------------------------------------
@@if($a != 1 || $b == 2)@@endif
@if($a != 1 || $b == 2)@endif
{{- if or (ne $a 1) (eq $b 2) }}{{- end }}
------------------------------------------------------------------------------------------
@@if($a != 1 || $b == 2 && $c == 3)@@endif
@if($a != 1 || $b == 2 && $c == 3)@endif
{{- if or (ne $a 1) (and (eq $b 2) (eq $c 3)) }}{{- end }}
------------------------------------------------------------------------------------------
@@if(($a != 1 || $b == 2) && $c == 3)@@endif
@if(($a != 1 || $b == 2) && $c == 3)@endif
{{- if and (or (ne $a 1) (eq $b 2)) (eq $c 3) }}{{- end }}
------------------------------------------------------------------------------------------
@@if(!($a + 4 != 1 || $b == 2) && $s.a == 3)@@endif
@if(!($a + 4!= 1 || $b == 2) && $s.a == 3)@endif
{{- if and (not (or (ne (add $a 4) 1) (eq $b 2))) (eq $s.a 3) }}{{- end }}
------------------------------------------------------------------------------------------

@template("tmpl")
Hello @(2 * 10)
@endtemplate

@block("block" "arg1")
Hello @.
@endblock

@with(exec "ls -l" | splitLines)
    @.
@else
    Nothing
@endwith